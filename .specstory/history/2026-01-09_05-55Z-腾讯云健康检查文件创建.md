<!-- Generated by SpecStory, Markdown v2.1.0 -->

<!-- cursor Session c19c0cf9-1472-4958-9342-bb052c2aa812 (2026-01-09 05:55Z) -->

# 腾讯云健康检查文件创建 (2026-01-09 05:55Z)

_**User**_

参考 阿里云 @health_check.sh 的健康检查文件，创建 腾讯云的健康检查

---

_**Agent (model default, mode Agent)**_


查看阿里云健康检查实现和相关文档，以便创建腾讯云版本。


---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: /Volumes/Lexar/git/07Docker/health_check.sh</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: /Volumes/Lexar/git/07Docker/阿里云服务.md</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="generic" data-tool-name="glob_file_search">
<details>
<summary>Tool use: **glob_file_search** • Searched codebase "undefined" • **2** results in **1** directory</summary>

Directory: **undefined** (2 files)

| File |
|------|
| `./腾讯云服务.md` |
| `./.specstory/history/2025-12-26_05-28Z-腾讯云服务器端口占用报告.md` |

</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="list_dir_v2">
<details>
<summary>Tool use: **list_dir_v2**</summary>


Parameters:

```json
{
  "targetDirectory": "/Volumes/Lexar/git/07Docker"
}
```
Result:

```json
{
  "directoryTreeRoot": {
    "absPath": "/Volumes/Lexar/git/07Docker",
    "childrenDirs": [
      {
        "absPath": "/Volumes/Lexar/git/07Docker/.specstory",
        "childrenDirs": [
          {
            "absPath": "/Volumes/Lexar/git/07Docker/.specstory/history",
            "childrenFiles": [
              {
                "name": "2025-12-26_05-28Z-腾讯云服务器端口占用报告.md"
              },
              {
                "name": "2025-12-26_05-29Z-tpd2-部署后技术点页面空白.md"
              },
              {
                "name": "2026-01-08_09-14Z-阿里云负载优化.md"
              },
              {
                "name": "2026-01-09_05-47Z-阿里云服务器健康评估.md"
              }
            ],
            "childrenWereProcessed": true
          }
        ],
        "childrenFiles": [
          {
            "name": ".gitignore"
          }
        ],
        "childrenWereProcessed": true
      }
    ],
    "childrenFiles": [
      {
        "name": "._health_check.sh"
      },
      {
        "name": ".cursorindexingignore"
      },
      {
        "name": "07Docker.code-workspace"
      },
      {
        "name": "阿里云服务.md"
      },
      {
        "name": "腾讯云服务.md"
      },
      {
        "name": "dockerskill.md"
      },
      {
        "name": "health_check.sh"
      },
      {
        "name": "R.md"
      },
      {
        "name": "todify4.code-workspace"
      },
      {
        "name": "writer.docker.code-workspace"
      }
    ],
    "childrenWereProcessed": true
  }
}
```
Status: **completed**


</details>
</tool-use>

---


查看腾讯云服务文档，了解服务器信息：


---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: /Volumes/Lexar/git/07Docker/腾讯云服务.md</summary>

</details>
</tool-use>

---


创建腾讯云健康检查脚本：


---

<tool-use data-tool-type="write" data-tool-name="edit_file_v2">

<details><summary>Tool use: **edit_file_v2** • Edit file: /Volumes/Lexar/git/07Docker/health_check_tencent.sh</summary>

</details>

</tool-use>

---


为脚本添加执行权限：


---

<tool-use data-tool-type="shell" data-tool-name="run_terminal_command_v2">
<details><summary>Tool use: **run_terminal_command_v2** • Run command: chmod +x /Volumes/Lexar/git/07Docker/health_check_tencent.sh</summary>

```bash
chmod +x /Volumes/Lexar/git/07Docker/health_check_tencent.sh
```
</details>
</tool-use>

---


已创建腾讯云健康检查脚本 `health_check_tencent.sh`。

**主要修改内容：**
1. 服务器信息：IP 改为 `111.230.58.40`
2. 服务响应测试：包含以下服务
   - TPD-技术资料管理 (5678)
   - AI翻译-Translate3 (3000)
   - Translate 应用 (8000)
   - Backend 后端 (8001)
   - TPD 后端 (3010)
   - 小程序后端 (4000)
3. 关键端口监听：包含腾讯云实际使用的端口（3000, 3001, 3010, 4000, 5678, 8000, 8001, 8008, 8099, 3306, 5432, 5433, 5434, 6379, 6390 等）

**使用方法：**
```bash
./health_check_tencent.sh
```

脚本已添加执行权限，可直接运行。检查项与阿里云版本一致，共 18 项健康检查。

---

